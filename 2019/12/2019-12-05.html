<attachment contenteditable="false" data-atts="%5B%5D" data-aid=".atts-913e9283-76b2-4d37-9b22-63dbdd5d3a69"></attachment><p><br></p><h3>获取客流量统计规则</h3><pre class="ql-syntax" spellcheck="false">NET_DVR_GetDeviceConfig //命令（命令:NET_DVR_GET_PDC_RULECFG_V42）
boolean  NET_DVR_GetDeviceConfig(int lUserID, int dwCommand,int dwCount, Pointer lpInBuffer, int dwInBufferSize, Pointer lpStatusList,Pointer lpOutBuffer, int dwOutBufferSize);

c参数解释
  int lUserID NET_DVR_Login_V40等登录接口的返回值
  int dwCommand 设备配置命令，参见配置命令
  int dwCount 一次要获取的配置个数，0和1都表示1个监控点信息，2表示2个监控点信息，以此递增，最大64个
  Pointer lpInBuffer 配置条件缓冲区指针
  int dwInBufferSize 配置条件缓冲区长度
  Pointer lpStatusList 错误信息列表，和要查询的监控点一一对应，例如lpStatusList[2]就对应lpInBuffer[2]，由用户分配内存， 每个错误信息为4个字节(1个32位无符号整数值)，参数值：0或者1表示成功，其他值为失败对应的错误号
  Pointer lpOutBuffer 设备返回的参数内容，和要查询的监控点一一对应。如果某个监控点对应的lpStatusList信息为大于1的值，对应lpOutBuffer的内容就是无效的
  int dwOutBufferSize dwCount个返回结果的总大小
f返回值
TRUE表示成功，但不代表每一个配置都成功，哪一个成功，对应查看lpStatusList[n]值；FALSE表示全部失败。接口返回失败请调用NET_DVR_GetLastError获取错误码，通过错误码判断出错原因
</pre><p><br></p><h3>设置客流量统计规则</h3><pre class="ql-syntax" spellcheck="false">NET_DVR_SetDeviceConfig //(命令:NET_DVR_SET_PDC_RULECFG_V42)
</pre><p><br></p><p><br></p><h2>注册回调函数，接收设备报警信息</h2><pre class="ql-syntax" spellcheck="false">NET_DVR_SetDVRMessageCallBack_V31 
boolean  NET_DVR_SetDVRMessageCallBack_V31(FMSGCallBack_V31 fMessageCallBack, Pointer pUser);
  fMessageCallBack 回调函数
  pUser 用户数据

Return Values

TRUE表示成功，FALSE表示失败。接口返回失败请调用NET_DVR_GetLastError获取错误码，通过错误码判断出错原因。 
</pre><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p>